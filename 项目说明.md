# ç”µå•†å®æ—¶æ•°æ®åˆ†æç³»ç»Ÿ - å®Œæ•´ç‰ˆ

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªåŸºäºå¤§æ•°æ®æŠ€æœ¯æ ˆçš„ç”µå•†å®æ—¶æ•°æ®åˆ†æç³»ç»Ÿï¼Œé‡‡ç”¨ç°ä»£åŒ–çš„å¾®æœåŠ¡æ¶æ„ï¼Œå±•ç¤ºäº†ä¼ä¸šçº§æ•°æ®å¤„ç†pipelineçš„å®Œæ•´å®ç°ã€‚

### æ ¸å¿ƒæŠ€æœ¯æ ˆ
- **Apache Spark**: å®æ—¶æµå¤„ç†å¼•æ“
- **Apache Kafka**: åˆ†å¸ƒå¼æ¶ˆæ¯é˜Ÿåˆ—
- **MongoDB**: æ–‡æ¡£æ•°æ®åº“
- **Redis**: å†…å­˜ç¼“å­˜
- **FastAPI**: é«˜æ€§èƒ½APIæ¡†æ¶
- **React**: ç°ä»£åŒ–å‰ç«¯æ¡†æ¶

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```mermaid
graph LR
    A[æ•°æ®ç”Ÿæˆå™¨] --> B[Kafkaæ¶ˆæ¯é˜Ÿåˆ—]
    B --> C[Sparkæµå¤„ç†å™¨]
    C --> D[MongoDBå­˜å‚¨]
    C --> E[Redisç¼“å­˜]
    D --> F[FastAPIæœåŠ¡]
    E --> F
    F --> G[Reactå‰ç«¯]
    F --> H[WebSocketå®æ—¶æ¨é€]
```

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
./
â”œâ”€â”€ docker-compose.yml          # DockeræœåŠ¡ç¼–æ’
â”œâ”€â”€ start_docker_services.bat   # ä¸€é”®å¯åŠ¨DockeræœåŠ¡
â”œâ”€â”€ mongo-init/                 # MongoDBåˆå§‹åŒ–è„šæœ¬
â”œâ”€â”€ PythonProject/              # åç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ config/                 # é…ç½®ç®¡ç†
â”‚   â”‚   â””â”€â”€ settings.py        # ç»Ÿä¸€é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ data_generator/         # æ•°æ®ç”Ÿæˆæ¨¡å—
â”‚   â”‚   â””â”€â”€ user_behavior_generator.py
â”‚   â”œâ”€â”€ spark_processor/        # Sparkæµå¤„ç†
â”‚   â”‚   â””â”€â”€ streaming_processor.py
â”‚   â”œâ”€â”€ kafka_integration/      # Kafkaé›†æˆ
â”‚   â”‚   â””â”€â”€ producer.py
â”‚   â”œâ”€â”€ ml_models/             # æœºå™¨å­¦ä¹ æ¨¡å‹
â”‚   â”‚   â””â”€â”€ recommendation_engine.py
â”‚   â”œâ”€â”€ utils/                 # å·¥å…·æ¨¡å—
â”‚   â”‚   â””â”€â”€ data_models.py
â”‚   â”œâ”€â”€ main.py                # ä¸»APIæœåŠ¡å™¨
â”‚   â”œâ”€â”€ start_backend.py       # ä¸€é”®å¯åŠ¨è„šæœ¬
â”‚   â”œâ”€â”€ requirements.txt       # Pythonä¾èµ–
â”‚   â””â”€â”€ README.md             # åç«¯è¯´æ˜
â””â”€â”€ ReactProject/               # å‰ç«¯é¡¹ç›®
    â”œâ”€â”€ src/
    â”‚   â”œâ”€â”€ components/        # Reactç»„ä»¶
    â”‚   â”œâ”€â”€ pages/            # é¡µé¢ç»„ä»¶
    â”‚   â”œâ”€â”€ services/         # APIæœåŠ¡
    â”‚   â””â”€â”€ App.jsx           # ä¸»åº”ç”¨
    â”œâ”€â”€ package.json          # å‰ç«¯ä¾èµ–
    â””â”€â”€ README.md            # å‰ç«¯è¯´æ˜
```

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### 1. ç¯å¢ƒå‡†å¤‡

**ç³»ç»Ÿè¦æ±‚:**
- Windows 10/11, macOS, æˆ– Linux
- å†…å­˜: 8GB+ (æ¨è16GB)
- ç£ç›˜: 5GB+å¯ç”¨ç©ºé—´

**å¿…éœ€è½¯ä»¶:**
```bash
# Docker Desktop (åŒ…å«Dockerå’ŒDocker Compose)
docker --version
docker-compose --version

# Python 3.8+
python --version

# Node.js 16+ (å‰ç«¯ä¾èµ–)
node --version
```

### 2. å¯åŠ¨DockeræœåŠ¡

**ä¸€é”®å¯åŠ¨æ‰€æœ‰åŸºç¡€æœåŠ¡:**
```bash
# Windowsç³»ç»Ÿ
start_docker_services.bat

# Linux/macOSç³»ç»Ÿ  
docker-compose up -d
```

è¿™å°†å¯åŠ¨ä»¥ä¸‹æœåŠ¡ï¼š
- **Kafka**: localhost:9092 (æ¶ˆæ¯é˜Ÿåˆ—)
- **MongoDB**: localhost:27017 (æ•°æ®åº“)
- **Redis**: localhost:6379 (ç¼“å­˜)
- **Spark**: localhost:7077 (æµå¤„ç†å¼•æ“)

**ç®¡ç†ç•Œé¢:**
- Kafka UI: http://localhost:8080
- MongoDB Express: http://localhost:8081 (admin/admin123)
- Redis Commander: http://localhost:8082
- Spark Master UI: http://localhost:8085

### 3. å¯åŠ¨åç«¯æœåŠ¡

```bash
# è¿›å…¥åç«¯ç›®å½•
cd PythonProject

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# ä¸€é”®å¯åŠ¨åç«¯
python start_backend.py
```

### 4. å¯åŠ¨å‰ç«¯æœåŠ¡

```bash
# è¿›å…¥å‰ç«¯ç›®å½•
cd ReactProject

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm start
```

### 5. å¯åŠ¨æ•°æ®æµ

é€šè¿‡APIæˆ–å‰ç«¯ç•Œé¢å¯åŠ¨ç³»ç»Ÿç»„ä»¶ï¼š

```bash
# å¯åŠ¨æ•°æ®ç”Ÿæˆå™¨
curl -X POST http://localhost:8000/api/system/start-component/data_generator

# å¯åŠ¨æµå¤„ç†å™¨
curl -X POST http://localhost:8000/api/system/start-component/stream_processor
```

## ğŸ“Š åŠŸèƒ½ç‰¹æ€§

### ğŸ”„ å®æ—¶æ•°æ®å¤„ç†
- **æ•°æ®ç”Ÿæˆ**: æ¯ç§’100æ¡æ¨¡æ‹Ÿç”µå•†ç”¨æˆ·è¡Œä¸º
- **æ¶ˆæ¯é˜Ÿåˆ—**: Kafkaé«˜ååé‡æ•°æ®ä¼ è¾“
- **æµå¤„ç†**: Spark 10ç§’å¾®æ‰¹å¤„ç†
- **å®æ—¶ç»Ÿè®¡**: æ´»è·ƒç”¨æˆ·ã€è½¬åŒ–ç‡ã€çƒ­é—¨å•†å“ç­‰

### ğŸ¤– æœºå™¨å­¦ä¹ æ¨è
- **ååŒè¿‡æ»¤**: SVDçŸ©é˜µåˆ†è§£ç®—æ³•
- **å†…å®¹æ¨è**: TF-IDFç‰¹å¾ç›¸ä¼¼åº¦
- **çƒ­é—¨æ¨è**: ç»Ÿè®¡çƒ­åº¦æ’åº
- **å®æ—¶è®­ç»ƒ**: å¢é‡æ¨¡å‹æ›´æ–°

### ğŸ“± ç°ä»£åŒ–å‰ç«¯
- **å®æ—¶ä»ªè¡¨æ¿**: åŠ¨æ€å›¾è¡¨å±•ç¤º
- **ç”¨æˆ·è¡Œä¸ºåˆ†æ**: å¤šç»´åº¦æ•°æ®åˆ†æ
- **æ¨èç³»ç»Ÿç®¡ç†**: ç®—æ³•é…ç½®å’Œç›‘æ§
- **ç³»ç»Ÿç›‘æ§**: æœåŠ¡çŠ¶æ€å’Œæ€§èƒ½æŒ‡æ ‡

### ğŸ”§ ç³»ç»Ÿç®¡ç†
- **å¥åº·æ£€æŸ¥**: å„ç»„ä»¶çŠ¶æ€ç›‘æ§
- **æ—¥å¿—ç®¡ç†**: ç»“æ„åŒ–æ—¥å¿—è®°å½•
- **é…ç½®ç®¡ç†**: ç¯å¢ƒå˜é‡é…ç½®
- **é”™è¯¯å¤„ç†**: å®Œå–„çš„å¼‚å¸¸æ•è·

## ğŸ¯ æ ¸å¿ƒäº®ç‚¹

### 1. ä¼ä¸šçº§æ¶æ„è®¾è®¡
- **å¾®æœåŠ¡**: ç»„ä»¶ç‹¬ç«‹éƒ¨ç½²å’Œæ‰©å±•
- **æ¶ˆæ¯é©±åŠ¨**: å¼‚æ­¥å¤„ç†æé«˜ååé‡
- **ç¼“å­˜ç­–ç•¥**: RedisåŠ é€Ÿçƒ­ç‚¹æ•°æ®è®¿é—®
- **è´Ÿè½½å‡è¡¡**: æ”¯æŒæ°´å¹³æ‰©å±•

### 2. å¤§æ•°æ®æŠ€æœ¯å®è·µ
- **æµå¼å¤„ç†**: Spark Streamingå®æ—¶è®¡ç®—
- **æ•°æ®æ¹–**: MongoDBçµæ´»å­˜å‚¨
- **æ¶ˆæ¯é˜Ÿåˆ—**: Kafkaè§£è€¦æ•°æ®æµ
- **å†…å­˜è®¡ç®—**: Redisé«˜é€Ÿç¼“å­˜

### 3. å…¨æ ˆæŠ€æœ¯æ•´åˆ
- **åç«¯**: Python + FastAPI
- **å¤§æ•°æ®**: Spark + Kafka
- **å­˜å‚¨**: MongoDB + Redis
- **å‰ç«¯**: React + Ant Design
- **å®æ—¶é€šä¿¡**: WebSocket

### 4. ç”Ÿäº§å°±ç»ªç‰¹æ€§
- **ç›‘æ§å‹å¥½**: å®Œæ•´çš„æŒ‡æ ‡å’Œæ—¥å¿—
- **é…ç½®é©±åŠ¨**: ç¯å¢ƒå˜é‡é…ç½®
- **é”™è¯¯æ¢å¤**: ä¼˜é›…çš„æ•…éšœå¤„ç†
- **æ–‡æ¡£å®Œå–„**: è¯¦ç»†çš„ä½¿ç”¨è¯´æ˜

## ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡

- **æ•°æ®ååé‡**: 100+ records/sec
- **å¤„ç†å»¶è¿Ÿ**: <10 seconds
- **APIå“åº”æ—¶é—´**: <100ms
- **å‰ç«¯æ›´æ–°é¢‘ç‡**: 10 seconds
- **æ¨èç²¾åº¦**: åŸºäºALSç®—æ³•ä¼˜åŒ–

## ğŸ” æŠ€æœ¯ç»†èŠ‚

### æ•°æ®æµè®¾è®¡
1. **æ•°æ®ç”Ÿæˆå±‚**: æ¨¡æ‹ŸçœŸå®ç”¨æˆ·è¡Œä¸ºæ¨¡å¼
2. **æ¶ˆæ¯é˜Ÿåˆ—å±‚**: Kafka partitionç­–ç•¥ä¼˜åŒ–
3. **æµå¤„ç†å±‚**: Sparkçª—å£å‡½æ•°èšåˆ
4. **å­˜å‚¨å±‚**: MongoDB + RedisåŒå†™ç­–ç•¥
5. **æœåŠ¡å±‚**: FastAPIå¼‚æ­¥å¤„ç†
6. **å±•ç¤ºå±‚**: Reactå®æ—¶æ¸²æŸ“

### æ¨èç®—æ³•
- **ALSç®—æ³•**: éšå¼åé¦ˆå¤„ç†
- **ç‰¹å¾å·¥ç¨‹**: ç”¨æˆ·-å•†å“äº¤äº’çŸ©é˜µ
- **å†·å¯åŠ¨**: åŸºäºå†…å®¹çš„è¡¥å……æ¨è
- **å®æ—¶æ›´æ–°**: å¢é‡å­¦ä¹ æœºåˆ¶

## ğŸ› ï¸ å¼€å‘ä¸éƒ¨ç½²

### å¼€å‘ç¯å¢ƒ
```bash
# å¯åŠ¨DockeræœåŠ¡
start_docker_services.bat

# åç«¯å¼€å‘
cd PythonProject
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
pip install -r requirements.txt
python start_backend.py

# å‰ç«¯å¼€å‘
cd ReactProject
npm install
npm start
```

### åœæ­¢æœåŠ¡
```bash
# åœæ­¢DockeræœåŠ¡
docker-compose down

# æˆ–è€…åœæ­¢å¹¶æ¸…ç†æ•°æ®
docker-compose down -v
```

## ğŸ“š å­¦ä¹ ä»·å€¼

### æŠ€æœ¯æ ˆè¦†ç›–
- âœ… å¤§æ•°æ®å¤„ç† (Spark)
- âœ… æ¶ˆæ¯é˜Ÿåˆ— (Kafka)
- âœ… æ•°æ®åº“è®¾è®¡ (MongoDB/Redis)
- âœ… APIå¼€å‘ (FastAPI)
- âœ… å‰ç«¯å¼€å‘ (React)
- âœ… æœºå™¨å­¦ä¹  (Scikit-learn)
- âœ… ç³»ç»Ÿæ¶æ„è®¾è®¡
- âœ… Dockerå®¹å™¨åŒ–

### å®è·µæŠ€èƒ½
- ğŸ¯ å®æ—¶æ•°æ®å¤„ç†pipeline
- ğŸ¯ å¾®æœåŠ¡æ¶æ„è®¾è®¡
- ğŸ¯ æ¨èç³»ç»Ÿå®ç°
- ğŸ¯ å‰åç«¯åä½œ
- ğŸ¯ ç³»ç»Ÿç›‘æ§å’Œè¿ç»´
- ğŸ¯ DockeræœåŠ¡ç¼–æ’

## ğŸ”— ç›¸å…³é“¾æ¥

- **åç«¯APIæ–‡æ¡£**: http://localhost:8000/docs
- **å‰ç«¯åº”ç”¨**: http://localhost:3000
- **ç³»ç»Ÿç›‘æ§**: http://localhost:8000/api/system/status
- **å®æ—¶æ•°æ®**: ws://localhost:8000/ws/real-time

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **èµ„æºè¦æ±‚**: å»ºè®®8GB+å†…å­˜ï¼ŒDockeréœ€è¦è¾ƒå¤šèµ„æº
2. **å¯åŠ¨é¡ºåº**: å…ˆå¯åŠ¨DockeræœåŠ¡ï¼Œå†å¯åŠ¨åç«¯ï¼Œæœ€åå¯åŠ¨å‰ç«¯
3. **ç«¯å£å ç”¨**: ç¡®ä¿ç›¸å…³ç«¯å£æœªè¢«å ç”¨ (8000, 3000, 9092, 27017, 6379ç­‰)
4. **æ•°æ®æŒä¹…åŒ–**: Docker volumesä¿è¯æ•°æ®æŒä¹…åŒ–

---

ğŸ’¡ **è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„å¤§æ•°æ®å®æ—¶åˆ†æç³»ç»Ÿæ¼”ç¤ºé¡¹ç›®ï¼Œå±•ç¤ºäº†ç°ä»£æ•°æ®å·¥ç¨‹çš„æœ€ä½³å®è·µï¼Œé€‚åˆå­¦ä¹ å’ŒæŠ€èƒ½å±•ç¤ºã€‚** 